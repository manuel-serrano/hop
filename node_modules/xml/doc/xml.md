${ var doc = require("@hop/hopdoc") }
${ var path = require("path") }
${ var ROOT = path.dirname(module.filename) }

XML
===

This is the documentation of the XML module that enables user programs
to parse XML strings and to define their own native XML tags. For instance:

Use `import xml from "hop:xml" or `require(hop.xml)`

This module also implements an XML pre-processor ables to load complete
XML documents.

Use `require("./example.xml", hop.xml)`

This will return the root element (as created by `createElement`) contained
in the XML document `./example.xml`.


Functions
---------

### xml.createElement(tag, attributes, children) ###
[:@glyphicon glyphicon-tag tag]

Creates a native `tag` xml element. Its attributes are described
by the JavaScript `attributes` object. The children must be
a JavaScript array.


### xml.parseSync(string|fd]) ###
[:@glyphicon glyphicon-tag tag]

Parses a string representing a list of XML tags and returns an
array of JavaScript values. The argument is either the string to be parsed
or a file description (an integer). The values are either strings, or objects
with three properties:

  * `tag`, the xml tag represented as a string;
  * `attributes`, a JavaScript object where each property correspond to an
  xml element attribute;
  * `children`, the xml element children stored in an array.

### xml.parse(string|fd, [callback]) ###
[:@glyphicon glyphicon-tag tag]

Parse a string asynchronously. If no callback is provided, this function
returns a promise that resolve with the parsed value. If provided `callback`
must be a procedure of two arguments: an `error`, and a `value`. In success, 
`error` if `false`. 


Example
-------

${ <span class="label label-info">example.js</span> }

```hopscript
${ doc.include( ROOT + "/example.js" ) }
```

${ <span class="label label-info">parse.js</span> }

```hopscript
${ doc.include( ROOT + "/parse.js" ) }
```

